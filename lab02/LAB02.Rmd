---
title: "Lab02"
author: "Jose Manoel Ferreira"
date: "1 de outubro de 2018"
output: html_document
---

``` {r prepare, cache=TRUE, message=FALSE, warning=FALSE}

  # campos:
  # "sequencial_candidato" :(character) id do candidato
  # "nome": (character)
  # "uf": (character)
  # "partido": (character)
  # "quantidade_doacoes": (integer)
  # "quantidade_doadores": (integer) número de doadores diferentes
  # "total_receita": (double) soma em R$ das doações
  # "media_receita": (double) média das doações
  # "recursos_de_outros_candidatos/comites": (double) quantia em R$ das doações provenientes de outros candidatos ou comite partidário
  # "recursos_de_pessoas_fisicas": (double) quantia em R$ das doações provenientes de outros CPFs
  # "recursos_de_pessoas_juridicas": (double) quantia em R$ das doações provenientes de outros CNPJ
  # "recursos_proprios": (double) quantia em R$ das doações provenientes do próprio candidato
  # "recursos_de_partido_politico": (double) quantia em R$ das doações provenientes do partido político do candidato
  # "votos": (integer) variável alvo. Se refere ao número de votos na campanha de 2006 e 2010
  # "quantidade_despesas": (integer)
  # "quantidade_fornecedores": (integer) número de fornecedores/despesas diferentes
  # "total_despesa": (double) soma em R$ das despesas de campanha
  # "media_despesa": (double) média das despesas de campanha
  # "cargo": (character)
  # "Sexo":  (character)
  # "grau": (character) grau de instrução do candidato
  # "estado_civil": (character)
  # "ocupacao": (character) ocupação do candidato



setwd("~/git/data-analysis/lab01-2/")




data2006 <- read.csv(("data/eleicoes_2006.csv"))
data2010 <- read.csv(("data/eleicoes_2010.csv"))


library(reshape2)
library(ggplot2)
library(dplyr)
library(caret)
library(lattice)
library(scales)
```


```{r hist,warning=FALSE, message=FALSE}
d = melt(select(data2006, -sequencial_candidato))
ggplot(d,aes(x = value)) + 
    facet_wrap(~variable, scales = "free_x") + 
    scale_x_continuous(labels = comma) +
    geom_histogram()
```


```{r hist,warning=FALSE, message=FALSE}
data2006$sexo = as.factor(data2006$sexo)
data2006$estado_civil = as.factor(data2006$estado_civil)
```




```{r hist,warning=FALSE, message=FALSE}
data2006$quantidades_doacoes = log(data2006$quantidade_doacoes)
data2006$quantidade_doadores = log(data2006$quantidade_doadores)
data2006$quantidade_despesas = log(data2006$quantidade_despesas)

```